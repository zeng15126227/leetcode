# ç»™å®šä¸€ä¸ªåŒ…å« n + 1 ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œå…¶æ•°å­—éƒ½åœ¨ 1 åˆ° n ä¹‹é—´ï¼ˆåŒ…æ‹¬ 1 å’Œ nï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚å‡è®¾åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•´æ•°ï¼Œæ‰¾å‡º
# è¿™ä¸ªé‡å¤çš„æ•°ã€‚ 
# 
#  ç¤ºä¾‹ 1: 
# 
#  è¾“å…¥: [1,3,4,2,2]
# è¾“å‡º: 2
#  
# 
#  ç¤ºä¾‹ 2: 
# 
#  è¾“å…¥: [3,1,3,4,2]
# è¾“å‡º: 3
#  
# 
#  è¯´æ˜ï¼š 
# 
#  
#  ä¸èƒ½æ›´æ”¹åŸæ•°ç»„ï¼ˆå‡è®¾æ•°ç»„æ˜¯åªè¯»çš„ï¼‰ã€‚ 
#  åªèƒ½ä½¿ç”¨é¢å¤–çš„ O(1) çš„ç©ºé—´ã€‚ 
#  æ—¶é—´å¤æ‚åº¦å°äº O(n2) ã€‚ 
#  æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•°å­—ï¼Œä½†å®ƒå¯èƒ½ä¸æ­¢é‡å¤å‡ºç°ä¸€æ¬¡ã€‚ 
#  
#  Related Topics æ•°ç»„ åŒæŒ‡é’ˆ äºŒåˆ†æŸ¥æ‰¾ 
#  ğŸ‘ 976 ğŸ‘ 0


# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def findDuplicate(self, nums: list) -> int:
        #çœ‹åˆ°æœ‰åºåºåˆ—æƒ³åˆ°äºŒåˆ†æŸ¥æ‰¾ï¼Œæ•°å­—èŒƒå›´åœ¨1~ä¹Ÿæ˜¯ä¸€ç§æœ‰åº
        # l=1
        # h=len(nums)-1
        # while l<h:
        #     mid = (l+h)>>1
        #     cnt=0
        #     for i in nums:
        #         if i <= mid:
        #             cnt += 1
        #     #å°äºç­‰äºmidçš„æ•°é‡å¤§äºmidï¼Œå¿…ç„¶æœ‰é‡å¤
        #     if cnt > mid:
        #         h=mid
        #     else:
        #         l=mid+1
        # return l

        res = 0
        n = len(nums)

        for i in range(32):
            a=0
            b=0
            #01,10,100,1000,10000
            mask=1<<i
            for j in range(n):
                #æŒ‰ä½ä¸åˆ¤æ–­ç›–ä½æ•°æ˜¯å¦ä¸º1
                if nums[j]&mask>=1:
                    a+=1
                #0ä¸åŒ…å«åœ¨1~n-1ä¸­ï¼Œä½†æ˜¯0ä¸ä»»ä½•æ•°&ç»“æœä¸º0ï¼Œä¸å½±å“ç»“æœ
                if j&mask>=1:
                    b+=1
            #åˆ¤æ–­è¯¥ä½æ˜¯å¦é‡å¤ï¼Œç”¨äºŒè¿›åˆ¶è¿ç®—ï¼Œä½†æ˜¯è¡¨ç¤ºå‡ºæ¥è¿˜æ˜¯10è¿›åˆ¶
            #è‹¥é‡å¤è¯¥ä½ä¸º1
            #åŸæ•°ç»„nums[0]~nums[n-1]ä¸­é‡å¤çš„æ•°å­—ï¼ŒäºŒè¿›åˆ¶è¡¨ç¤ºä¸­ä½æ•°ä¸º1çš„ä½ä¸€å®šä¼šæ¯”1~n-1ç›¸åº”ä½å¤š
            if a>b:
                res = res | mask

        return res

    # leetcode submit region end(Prohibit modification and deletion)
if __name__ == "__main__":
    res = Solution().findDuplicate([1,3,4,2,2])
    print(res)
